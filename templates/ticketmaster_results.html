{% extends 'ticketmaster_base.html' %}
{% block events %}
{% if not error %}
<div id="hiding-container" class="container rounded-2 shadow-lg mx-auto mt-5 p-3">
    <h3 id='num-of-events' class="text-start text-secondary">
        Results: {{ num_of_results }}
    </h3>
    <div class="row align-items-start">
        <div class="col">
            <div id="results">

                {% for event in events %}
                
                <div class="card mb-3 bg-white shadow-lg">  
                    <div class="row g-0">  
                        <div class="col-md-4 align-self-center text-md-start text-center">
                            <img src="{{event.image_url}}" class="img-fluid w-100 rounded-start highest" alt="...">
                        </div>
                          
                        <div class="col-md-8">  
                            <div class="card-body">  
                                <div class="row justify-content-between">  
                                    <div class="col-6">  
                                        <h5 class="card-title ">{{event.name}}</h5>  
                                        <h5 class="card-title text-secondary">{{ event.venue_name }}</h5>
                                    </div>
                                      
                                    <div class="col-6 text-end">  
                                        <h5 class="card-title text-success">{{event.formatted_date}}</h5>  
                                        <p class="text-success">{{event.formatted_time}}</p>  
                                    </div>
                                      
                                </div>
                                  
                                <div class="row justify-content-between">
                                    <div class="col-6">
                                        <p class="card-text text-secondary">{{ event.venue_address }} <br> {{ event.venue_city }}, {{ event.venue_state }}</p>
                                    </div>
                                    <div class="col-6 text-end ">
                                        {% if event.spotify_link|length > 1 %}
                                            <a href="{{ event.spotify_link }}" class="logo-${i}  "> <i class="bi bi-spotify"></i></a>
                                        {% endif %}
                                        {% if event.facebook_link|length > 1 %}
                                            <a href="{{ event.facebook_link }}" class="facebook-logo-${i}"> <i
                                                class="bi bi-facebook"></i></a>
                                        {% endif %}
                                        {% if event.twitter_link|length > 1 %}
                                            <a href="{{ event.twitter_link }}" class="twitter-logo-${i}"> <i
                                                class="bi bi-twitter"></i></a>
                                        {% endif %}
                                    </div>
                                </div>
                                <a href="{{ event.ticket_link }}">
                                    <button type="button" class="btn btn-primary mt-3">Find tickets</button>
                                </a>  
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endif %}
{% if error == "no results found" %}
    <div id="hiding-container" class="container rounded-2 shadow-lg mx-auto mt-5 p-3">
        <h3 id='num-of-events' class="text-start text-secondary">
            No Results Found
        </h3>
    </div>
{% endif%}
{% endblock %}
